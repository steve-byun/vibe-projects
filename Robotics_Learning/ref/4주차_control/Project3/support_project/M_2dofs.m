function M_q = M_2dofs(in1,in2,in3)
%M_2DOFS
%    M_Q = M_2DOFS(IN1,IN2,IN3)

%    This function was generated by the Symbolic Math Toolbox version 8.1.
%    21-Apr-2023 12:32:42

Ic2xx = in3(15,:);
Ic1yy = in3(6,:);
Ic2xy = in3(18,:);
Ic1yz = in3(9,:);
Ic2xz = in3(20,:);
Ic2yy = in3(16,:);
Ic1zz = in3(7,:);
Ic2yz = in3(19,:);
Ic2zz = in3(17,:);
a1 = in2(3,:);
a2 = in2(6,:);
alpha1 = in2(1,:);
alpha2 = in2(4,:);
d2 = in2(5,:);
m1 = in3(1,:);
m2 = in3(11,:);
q1 = in1(1,:);
q2 = in1(2,:);
rc1x = in3(2,:);
rc1y = in3(3,:);
rc2x = in3(12,:);
rc1z = in3(4,:);
rc2y = in3(13,:);
rc2z = in3(14,:);
t2 = cos(alpha1);
t3 = sin(alpha1);
t4 = cos(q1);
t5 = sin(q1);
t6 = sin(q2);
t7 = cos(alpha2);
t8 = cos(q2);
t9 = sin(alpha2);
t14 = a1.*t5;
t37 = t5.*t8;
t38 = t2.*t4.*t6;
t39 = t37+t38;
t40 = t3.*t4.*t9;
t41 = t5.*t6.*t7;
t42 = t2.*t4.*t7.*t8;
t43 = t40+t41-t42;
t44 = t3.*t4.*t7;
t45 = t5.*t6.*t9;
t46 = t2.*t4.*t8.*t9;
t47 = t44-t45+t46;
t48 = rc2x.*t39;
t49 = rc2y.*t43;
t50 = rc2z.*t47;
t51 = d2.*t3.*t4;
t52 = a2.*t5.*t8;
t53 = a2.*t2.*t4.*t6;
t10 = t14+t48-t49-t50-t51+t52+t53;
t12 = a1.*t4;
t54 = t4.*t8;
t55 = t2.*t5.*t6;
t56 = t54-t55;
t57 = t4.*t6.*t7;
t58 = t3.*t5.*t9;
t59 = t2.*t5.*t7.*t8;
t60 = t57-t58+t59;
t61 = t3.*t5.*t7;
t62 = t4.*t6.*t9;
t63 = t2.*t5.*t8.*t9;
t64 = t61+t62+t63;
t65 = rc2x.*t56;
t66 = rc2y.*t60;
t67 = rc2z.*t64;
t68 = a2.*t4.*t8;
t69 = d2.*t3.*t5;
t70 = a2.*t2.*t5.*t6;
t11 = t12+t65-t66+t67+t68+t69-t70;
t13 = t12+rc1x.*t4-rc1y.*t2.*t5+rc1z.*t3.*t5;
t15 = t14+rc1x.*t5+rc1y.*t2.*t4-rc1z.*t3.*t4;
t16 = t2.*t9;
t17 = t3.*t7.*t8;
t18 = t16+t17;
t19 = t2.*t7;
t21 = t3.*t8.*t9;
t20 = t19-t21;
t22 = Ic2yy.*t18;
t23 = Ic2yz.*t20;
t24 = Ic2xy.*t3.*t6;
t25 = t22+t23+t24;
t26 = t18.*t25;
t27 = Ic2yz.*t18;
t28 = Ic2zz.*t20;
t29 = Ic2xz.*t3.*t6;
t30 = t27+t28+t29;
t31 = t20.*t30;
t32 = Ic2xy.*t18;
t33 = Ic2xz.*t20;
t34 = Ic2xx.*t3.*t6;
t35 = t32+t33+t34;
t36 = t3.*t6.*t35;
t71 = d2.*t2;
t72 = rc2y.*t18;
t73 = rc2z.*t20;
t74 = a2.*t3.*t6;
t75 = rc2x.*t3.*t6;
t76 = t71+t72+t73+t74+t75;
t77 = t2.*t20;
t78 = t3.*t4.*t47;
t79 = t3.*t5.*t64;
t80 = t77+t78+t79;
t81 = t3.*t5.*t56;
t82 = t2.*t3.*t6;
t87 = t3.*t4.*t39;
t83 = t81+t82-t87;
t84 = t2.*t18;
t85 = t3.*t4.*t43;
t88 = t3.*t5.*t60;
t86 = t84+t85-t88;
t89 = t48-t49-t50-t51+t52+t53;
t90 = t2.*t89;
t91 = t3.*t4.*t76;
t92 = t90+t91;
t93 = m2.*t10.*t92;
t94 = t65-t66+t67+t68+t69-t70;
t95 = t2.*t94;
t114 = t3.*t5.*t76;
t96 = t95-t114;
t97 = m2.*t11.*t96;
t98 = Ic2yz.*t80;
t99 = Ic2xy.*t83;
t100 = Ic2yy.*t86;
t101 = t98+t99+t100;
t102 = t18.*t101;
t103 = Ic2zz.*t80;
t104 = Ic2xz.*t83;
t105 = Ic2yz.*t86;
t106 = t103+t104+t105;
t107 = t20.*t106;
t108 = Ic2xz.*t80;
t109 = Ic2xx.*t83;
t110 = Ic2xy.*t86;
t111 = t108+t109+t110;
t112 = t3.*t6.*t111;
t113 = t3.*t5.*t89+t3.*t4.*t94;
M_q = reshape([t26+t31+t36+t3.*(Ic1yy.*t3+Ic1yz.*t2)+t2.*(Ic1yz.*t3+Ic1zz.*t2)+m2.*t10.^2+m2.*t11.^2+m1.*t13.^2+m1.*t15.^2,t93+t97+t102+t107+t112,t93+t97+t2.*(t26+t31+t36)+t3.*t4.*(t25.*t43-t35.*t39+t30.*t47)+t3.*t5.*(-t25.*t60+t35.*t56+t30.*t64),t2.*(t102+t107+t112)+m2.*t92.^2+m2.*t96.^2+m2.*t113.^2+t3.*t4.*(t43.*t101-t39.*t111+t47.*t106)+t3.*t5.*(-t60.*t101+t56.*t111+t64.*t106)],[2,2]);
