<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shorts Factory</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">SHORTS FACTORY</h1>
            <button id="settingsBtn" class="btn-icon" title="설정">⚙</button>
        </header>

        <!-- Input Section -->
        <section class="input-section">
            <div class="input-group">
                <label for="topic">주제</label>
                <textarea id="topic" placeholder="영상 주제를 입력하세요&#10;예: 돈 아끼는 심리학 팁 3가지" rows="3"></textarea>
            </div>
            <div class="options-row">
                <div class="option">
                    <label for="style">스타일</label>
                    <select id="style">
                        <option value="정보형">정보형</option>
                        <option value="감성형">감성형</option>
                        <option value="유머형">유머형</option>
                    </select>
                </div>
                <div class="option">
                    <label for="duration">목표 길이</label>
                    <select id="duration">
                        <option value="30">30초</option>
                        <option value="50" selected>50초</option>
                        <option value="60">60초</option>
                    </select>
                </div>
            </div>
            <button id="generateBtn" class="btn-generate">생성하기</button>
        </section>

        <!-- Pipeline Section -->
        <section id="pipelineSection" class="pipeline-section hidden">
            <h2 class="section-title">에이전트 파이프라인</h2>
            <div class="pipeline">
                <div class="pipeline-row">
                    <div class="agent-node" id="agent-director" data-agent="director">
                        <div class="agent-status"></div>
                        <div class="agent-name">기획 PD</div>
                        <div class="agent-message">대기 중</div>
                    </div>
                    <div class="pipeline-arrow">→</div>
                    <div class="agent-node" id="agent-writer" data-agent="writer">
                        <div class="agent-status"></div>
                        <div class="agent-name">작가</div>
                        <div class="agent-message">대기 중</div>
                    </div>
                    <div class="pipeline-arrow">→</div>
                    <div class="pipeline-parallel">
                        <div class="agent-node" id="agent-researcher" data-agent="researcher">
                            <div class="agent-status"></div>
                            <div class="agent-name">리서처</div>
                            <div class="agent-message">대기 중</div>
                        </div>
                        <div class="parallel-line"></div>
                        <div class="agent-node" id="agent-voice" data-agent="voice">
                            <div class="agent-status"></div>
                            <div class="agent-name">성우</div>
                            <div class="agent-message">대기 중</div>
                        </div>
                    </div>
                    <div class="pipeline-arrow">→</div>
                    <div class="agent-node" id="agent-editor" data-agent="editor">
                        <div class="agent-status"></div>
                        <div class="agent-name">편집자</div>
                        <div class="agent-message">대기 중</div>
                    </div>
                </div>
            </div>
            <div id="elapsedTime" class="elapsed-time"></div>
        </section>

        <!-- Result Section -->
        <section id="resultSection" class="result-section hidden">
            <h2 class="section-title">완성된 쇼츠</h2>
            <div class="result-content">
                <div class="video-preview">
                    <video id="resultVideo" controls></video>
                </div>
                <div class="result-meta">
                    <h3 id="resultTitle"></h3>
                    <div class="meta-row">
                        <span id="resultDuration"></span>
                        <span id="resultSize"></span>
                    </div>
                    <div id="resultHashtags" class="hashtags"></div>
                    <div class="result-details">
                        <details>
                            <summary>스크립트 보기</summary>
                            <pre id="resultScript"></pre>
                        </details>
                    </div>
                    <div class="result-actions">
                        <a id="downloadBtn" class="btn-action" download>다운로드</a>
                        <button id="openFolderBtn" class="btn-action">폴더 열기</button>
                        <button id="newBtn" class="btn-action btn-new">새로 만들기</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Error Section -->
        <section id="errorSection" class="error-section hidden">
            <div class="error-content">
                <span class="error-icon">✕</span>
                <p id="errorMessage"></p>
                <button id="retryBtn" class="btn-action">다시 시도</button>
            </div>
        </section>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>설정</h2>
                    <button id="closeModal" class="btn-icon">✕</button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label>AI 엔진</label>
                        <select id="aiProvider" onchange="toggleProviderKeys()">
                            <option value="gemini">Gemini (무료)</option>
                            <option value="claude">Claude (유료)</option>
                        </select>
                    </div>
                    <div class="setting-group" id="geminiKeyGroup">
                        <label>Gemini API Key</label>
                        <input type="password" id="geminiKey" placeholder="Google AI Studio에서 발급">
                    </div>
                    <div class="setting-group hidden" id="anthropicKeyGroup">
                        <label>Anthropic API Key</label>
                        <input type="password" id="anthropicKey" placeholder="sk-ant-...">
                    </div>
                    <div class="setting-group">
                        <label>Pexels API Key</label>
                        <input type="password" id="pexelsKey" placeholder="pexels.com/api 에서 발급">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="saveSettings" class="btn-generate">저장</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
