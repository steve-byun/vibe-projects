/**
 * ListingPro AI - Popup Styles
 */

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  width: 400px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 14px;
  color: #111827;
  background: #ffffff;
  overflow-x: hidden;
}

:root {
  --lp-primary: #7c3aed;
  --lp-primary-dark: #6d28d9;
  --lp-gradient: linear-gradient(135deg, #7c3aed, #3b82f6);
  --lp-white: #ffffff;
  --lp-gray-50: #f9fafb;
  --lp-gray-100: #f3f4f6;
  --lp-gray-200: #e5e7eb;
  --lp-gray-300: #d1d5db;
  --lp-gray-500: #6b7280;
  --lp-gray-700: #374151;
  --lp-gray-900: #111827;
  --lp-green: #10b981;
  --lp-red: #ef4444;
  --lp-radius: 12px;
  --lp-radius-sm: 8px;
  --lp-transition: 0.2s ease;
}

/* Header */
.lp-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 18px; background: var(--lp-gradient); color: var(--lp-white);
}
.lp-logo { display: flex; align-items: center; gap: 8px; }
.lp-logo-text { font-size: 17px; font-weight: 800; }
.lp-icon-btn {
  display: flex; align-items: center; justify-content: center;
  width: 32px; height: 32px; background: rgba(255,255,255,0.15);
  border: none; border-radius: 50%; color: var(--lp-white); cursor: pointer;
}
.lp-icon-btn:hover { background: rgba(255,255,255,0.3); }

/* Main */
.lp-main { padding: 18px; display: flex; flex-direction: column; gap: 14px; }

/* Status Card */
.lp-status-card {
  display: flex; align-items: center; gap: 12px; padding: 14px 16px;
  background: var(--lp-gray-50); border: 1px solid var(--lp-gray-200); border-radius: var(--lp-radius);
}
.lp-status-card.lp-active { background: #f0fdf4; border-color: #bbf7d0; }
.lp-status-icon { flex-shrink: 0; color: var(--lp-gray-500); }
.lp-status-card.lp-active .lp-status-icon { color: var(--lp-green); }
.lp-status-text { font-size: 13px; line-height: 1.4; color: var(--lp-gray-700); }

/* Buttons */
.lp-btn {
  display: inline-flex; align-items: center; justify-content: center;
  height: 36px; padding: 0 16px; border: none; border-radius: var(--lp-radius-sm);
  font-size: 13px; font-weight: 600; cursor: pointer; transition: all var(--lp-transition);
}
.lp-btn-primary { background: var(--lp-gradient); color: var(--lp-white); }
.lp-btn-primary:hover { box-shadow: 0 2px 12px rgba(124,58,237,0.35); }

.lp-btn-optimize {
  width: 100%; height: 48px; gap: 8px; font-size: 15px; font-weight: 700;
  background: var(--lp-gradient); color: var(--lp-white);
  border-radius: var(--lp-radius); box-shadow: 0 4px 16px rgba(124,58,237,0.35);
}
.lp-btn-optimize:hover { box-shadow: 0 6px 24px rgba(124,58,237,0.5); transform: translateY(-2px); }
.lp-btn-optimize:active { transform: translateY(0); }
.lp-btn-optimize:disabled { opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: none; }

/* Usage */
.lp-usage { display: flex; flex-direction: column; gap: 6px; }
.lp-usage-bar-bg { height: 6px; background: var(--lp-gray-200); border-radius: 3px; overflow: hidden; }
.lp-usage-bar-fill { height: 100%; background: var(--lp-gradient); border-radius: 3px; width: 0%; transition: width 0.4s; }
.lp-usage-text { font-size: 12px; color: var(--lp-gray-500); text-align: right; }
.lp-usage-text span { font-weight: 600; color: var(--lp-gray-700); }

/* API Key */
.lp-api-section { display: flex; flex-direction: column; gap: 8px; }
.lp-section-label { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.04em; color: var(--lp-gray-500); }
.lp-api-input-group { display: flex; gap: 6px; align-items: center; }
.lp-input {
  flex: 1; height: 38px; padding: 0 12px; border: 1px solid var(--lp-gray-300);
  border-radius: var(--lp-radius-sm); font-size: 13px; font-family: 'Consolas', monospace;
  color: var(--lp-gray-900); background: var(--lp-white); outline: none;
}
.lp-input:focus { border-color: var(--lp-primary); box-shadow: 0 0 0 3px rgba(124,58,237,0.1); }
.lp-input::placeholder { color: var(--lp-gray-300); }
.lp-toggle-eye { width: 38px; height: 38px; background: var(--lp-gray-100); color: var(--lp-gray-500); border-radius: var(--lp-radius-sm); }
.lp-toggle-eye:hover { background: var(--lp-gray-200); color: var(--lp-gray-700); }
.lp-api-hint { font-size: 11px; color: var(--lp-gray-500); line-height: 1.4; }
.lp-api-hint.lp-success { color: var(--lp-green); font-weight: 500; }
.lp-api-hint.lp-error { color: var(--lp-red); font-weight: 500; }

/* ============================================================
   Result Area (shown after optimization)
   ============================================================ */
#resultArea {
  display: flex; flex-direction: column; gap: 12px;
  animation: lp-fadeIn 0.3s ease;
}
@keyframes lp-fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

/* Score */
.lp-result-score {
  text-align: center; padding: 16px 0;
}
.lp-score-number {
  font-size: 48px; font-weight: 800; line-height: 1;
  background: var(--lp-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
.lp-score-number.lp-score-high { background: linear-gradient(135deg, #10b981, #059669); -webkit-background-clip: text; }
.lp-score-number.lp-score-mid { background: linear-gradient(135deg, #f59e0b, #d97706); -webkit-background-clip: text; }
.lp-score-number.lp-score-low { background: linear-gradient(135deg, #ef4444, #dc2626); -webkit-background-clip: text; }
.lp-score-label { font-size: 12px; color: var(--lp-gray-500); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

/* Result sections */
.lp-result-section {
  background: var(--lp-gray-50); border-radius: var(--lp-radius-sm);
  padding: 12px; border: 1px solid var(--lp-gray-100);
}
.lp-result-section h3 {
  font-size: 11px; font-weight: 700; text-transform: uppercase;
  letter-spacing: 0.05em; color: var(--lp-gray-500); margin-bottom: 6px;
}
.lp-result-header {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;
}
.lp-result-header h3 { margin-bottom: 0; }
.lp-copy-btn {
  font-size: 11px; padding: 2px 8px; border: 1px solid var(--lp-gray-300);
  border-radius: 4px; background: var(--lp-white); color: var(--lp-gray-500);
  cursor: pointer; transition: all var(--lp-transition);
}
.lp-copy-btn:hover { border-color: var(--lp-primary); color: var(--lp-primary); }
.lp-copy-btn.lp-copied { border-color: var(--lp-green); color: var(--lp-green); }

.lp-result-content {
  font-size: 13px; line-height: 1.5; color: var(--lp-gray-700); word-break: break-word;
}
.lp-result-desc { white-space: pre-wrap; max-height: 120px; overflow-y: auto; }

/* Tags */
.lp-result-tags { display: flex; flex-wrap: wrap; gap: 4px; }
.lp-result-tags span {
  display: inline-block; padding: 3px 8px; background: #ede9fe;
  color: var(--lp-primary-dark); border-radius: 12px; font-size: 11px; font-weight: 500;
}

/* Lists */
.lp-result-bullets, .lp-result-improvements {
  padding-left: 16px; font-size: 12px; line-height: 1.6; color: var(--lp-gray-700);
}
.lp-result-bullets li, .lp-result-improvements li { margin-bottom: 4px; }

/* Insight */
.lp-result-insight {
  font-size: 12px; line-height: 1.5; color: var(--lp-gray-700);
  border-left: 3px solid var(--lp-primary); padding-left: 10px;
}

/* Footer */
.lp-footer {
  padding: 10px 18px; border-top: 1px solid var(--lp-gray-100);
  text-align: center; font-size: 11px; color: var(--lp-gray-500);
}
